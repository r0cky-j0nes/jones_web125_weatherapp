(function(){"use strict";var e={7465:function(e,t,a){var n=a(3751),r=a(641);const o={id:"app"};function s(e,t,a,n,s,i){const l=(0,r.g2)("router-link"),c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("nav",null,[(0,r.Lk)("li",null,[(0,r.bF)(l,{to:"/"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Home")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(l,{to:"/hourly"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Hourly")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(l,{to:"/5day"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("5 Day Forecast")]))),_:1})])]),(0,r.bF)(c)])}a(4114);var i={name:"App",data(){return{api_key:"2f6532bf0e107efc40b25b23913398f7",url_base:"https://api.openweathermap.org/data/2.5/",query:"",weather:{},savedLocations:[]}},methods:{fetchWeather(e){"Enter"==e.key&&fetch(`${this.url_base}weather?q=${this.query}&units=imperial&APPID=${this.api_key}`).then((e=>e.json())).then(this.setResults)},getWeather(e){fetch(`${this.url_base}weather?q=${e}&units=imperial&APPID=${this.api_key}`).then((e=>e.json())).then(this.setResults)},setResults(e){this.weather=e,this.query="",e.weather&&e.weather.length>0&&(this.weatherType=e.weather[0].main)},saveLocation(){const e=this.weather.name;e&&!this.savedLocations.includes(e)&&this.savedLocations.push(e)},selectSavedLocation(e){this.getWeather(e)},deleteLocation(e){this.savedLocations.splice(e,1)},dateBulider(){let e=new Date,t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=t[e.getDay()],r=e.getDate(),o=a[e.getMonth()],s=e.getFullYear();return`${n} ${o} ${r}, ${s}`}}},l=a(6262);const c=(0,l.A)(i,[["render",s]]);var u=c,h=a(5220),d=(a(8111),a(1701),a(953)),p=a(6908),v=a(3468);const m={class:"chart-container"},f={key:1},y="2f6532bf0e107efc40b25b23913398f7";var w={__name:"HourlyForecast",setup(e){v.t1.register(v.hE,v.m_,v.s$,v.No,v.FN,v.PP,v.kc);const t=(0,d.KR)({labels:[],datasets:[{label:"Temperature (°F)",data:[],borderColor:"rgba(75, 192, 192, 1)",tension:.4},{label:"Rain (mm)",data:[],borderColor:"rgba(54, 162, 235, 0.6)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4}]}),a={responsive:!0,maintainAspectRatio:!1};async function n(){const e=localStorage.getItem("lastCity")||"New York",a=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&units=imperial&appid=${y}`),n=await a.json();if(n.list){const e=n.list.slice(0,8);t.value.labels=e.map((e=>e.dt_txt.split(" ")[1].slice(0,5))),t.value.datasets[0].data=e.map((e=>e.main.temp)),t.value.datasets[1].data=e.map((e=>e.rain&&e.rain["3h"]||0))}}return(0,r.sV)((()=>{n()})),(e,n)=>((0,r.uX)(),(0,r.CE)("div",m,[n[0]||(n[0]=(0,r.Lk)("h2",null,"Hourly Forecast",-1)),t.value.labels.length?((0,r.uX)(),(0,r.Wv)((0,d.R1)(p.N1),{key:0,data:t.value,options:a},null,8,["data"])):((0,r.uX)(),(0,r.CE)("p",f,"Loading hourly data..."))]))}};const k=(0,l.A)(w,[["__scopeId","data-v-bd82593a"]]);var b=k,g=a(33);const L={class:"forecast-container"},_={key:0},F={key:1},C="2f6532bf0e107efc40b25b23913398f7";var $={__name:"FiveDayForecast",setup(e){const t=(0,d.KR)([]);async function a(){const e=localStorage.getItem("lastCity")||"New York",a=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=${C}`),n=await a.json();if(n.length){const{lat:e,lon:a}=n[0],r=await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${a}&exclude=current,minutely,hourly,alerts&units=imperial&appid=${C}`),o=await r.json();t.value=o.daily.slice(0,5)}}return(0,r.sV)((()=>{a()})),(e,a)=>((0,r.uX)(),(0,r.CE)("div",L,[a[1]||(a[1]=(0,r.Lk)("h2",null,"5-Day Forecast",-1)),t.value.length?((0,r.uX)(),(0,r.CE)("table",_,[a[0]||(a[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Date"),(0,r.Lk)("th",null,"Weather"),(0,r.Lk)("th",null,"High (°F)"),(0,r.Lk)("th",null,"Low (°F)")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.dt},[(0,r.Lk)("td",null,(0,g.v_)(new Date(1e3*e.dt).toLocaleDateString()),1),(0,r.Lk)("td",null,(0,g.v_)(e.weather[0].main),1),(0,r.Lk)("td",null,(0,g.v_)(Math.round(e.temp.max)),1),(0,r.Lk)("td",null,(0,g.v_)(Math.round(e.temp.min)),1)])))),128))])])):((0,r.uX)(),(0,r.CE)("p",F,"Loading forecast..."))]))}};const E=(0,l.A)($,[["__scopeId","data-v-477db28c"]]);var D=E;const S={class:"search-box"},q={key:0,class:"saved-locations"},j=["onClick"],W=["onClick"],O={key:1,class:"weather-wrap"},I={class:"location-box"},X={class:"location"},x={class:"date"},A={class:"temp-range"},H={class:"weather-box"},R={class:"temp"},M={class:"weather-icon"},N=["src","alt"],P={class:"weather"},J={class:"forecast-links"};function K(e,t,a,o,s,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",{class:(0,g.C4)(i.bgClass)},[(0,r.Lk)("main",null,[(0,r.Lk)("div",S,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.query=e),onKeyup:t[1]||(t[1]=(0,n.jR)(((...e)=>i.fetchWeather&&i.fetchWeather(...e)),["enter"])),placeholder:"Enter City or ZIP",class:"search-bar"},null,544),[[n.Jo,s.query]])]),s.savedLocations.length?((0,r.uX)(),(0,r.CE)("div",q,[t[2]||(t[2]=(0,r.Lk)("h3",null,"Saved Locations:",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.savedLocations,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t},[(0,r.Lk)("button",{onClick:t=>i.selectSavedLocation(e)},(0,g.v_)(e),9,j),(0,r.Lk)("button",{onClick:e=>i.deleteLocation(t),class:"delete-btn"},"✖",8,W)])))),128))])])):(0,r.Q3)("",!0),s.weather.main?((0,r.uX)(),(0,r.CE)("div",O,[(0,r.Lk)("div",I,[(0,r.Lk)("div",X,(0,g.v_)(s.weather.name)+", "+(0,g.v_)(s.weather.sys.country),1),(0,r.Lk)("div",x,(0,g.v_)(i.formattedDate),1)]),(0,r.Lk)("div",A," High: "+(0,g.v_)(Math.round(s.weather.main.temp_max))+"°F / Low: "+(0,g.v_)(Math.round(s.weather.main.temp_min))+"°F ",1),(0,r.Lk)("div",H,[(0,r.Lk)("div",R,(0,g.v_)(Math.round(s.weather.main.temp))+"°F",1),(0,r.Lk)("div",M,[(0,r.Lk)("img",{src:`https://openweathermap.org/img/wn/${s.weather.weather[0].icon}@2x.png`,alt:s.weather.weather[0].description},null,8,N)]),(0,r.Lk)("div",P,(0,g.v_)(s.weather.weather[0].main),1)]),(0,r.Lk)("nav",J,[(0,r.bF)(l,{to:{name:"HourlyForecast",query:{city:s.weather.name}}},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Hourly")]))),_:1},8,["to"]),t[5]||(t[5]=(0,r.eW)(" | ")),(0,r.bF)(l,{to:{name:"FiveDayForecast",query:{city:s.weather.name}}},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("5-Day Forecast")]))),_:1},8,["to"])])])):(0,r.Q3)("",!0)])],2)}var T={name:"weatherHome",data(){return{apiKey:"2f6532bf0e107efc40b25b23913398f7",query:"",weather:{},savedLocations:JSON.parse(localStorage.getItem("saved")||"[]")}},computed:{formattedDate(){const e=new Date;return e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},bgClass(){if(!this.weather.main)return"";const e=this.weather.main.temp;return e<50?"cold":e>80?"hot":"mild"}},methods:{async fetchWeather(){if(this.query.trim())try{const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(this.query)}&units=imperial&appid=${this.apiKey}`),t=await e.json();if(200!==t.cod)return void alert(t.message);this.weather=t,this.savedLocations.includes(t.name)||(this.savedLocations.push(t.name),localStorage.setItem("saved",JSON.stringify(this.savedLocations))),this.query=""}catch{alert("Error fetching weather")}},selectSavedLocation(e){this.query=e,this.fetchWeather()},deleteLocation(e){this.savedLocations.splice(e,1),localStorage.setItem("saved",JSON.stringify(this.savedLocations))}}};const U=(0,l.A)(T,[["render",K],["__scopeId","data-v-6803f3ca"]]);var V=U;const Y=[{path:"/hourly",name:"HourlyForecast",component:b},{path:"/5day",name:"FiveDayForecast",component:D},{path:"/",name:"weatherHome",component:V}],Q=(0,h.aE)({history:(0,h.LA)("/jones_web125_weatherapp/"),routes:Y});var B=Q;(0,n.Ef)(u).use(B).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(n);c<s.length;c++)o=s[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunkjones_web125_weatherapp"]=self["webpackChunkjones_web125_weatherapp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(7465)}));n=a.O(n)})();
//# sourceMappingURL=app.c377c36d.js.map